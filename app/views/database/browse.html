<div class="row browse-container">
    <div class="query-container master-query">

        <div class="query-actions" ng-show="hideSettings">

            <div class="btn-toolbar pull-right">
                <div class="btn-group">
                    <button ng-click="query()" ng-disabled="!queryText" class="btn btn-sm btn-primary"><i
                            class="fa fa-cog"></i>
                        Run
                    </button>
                </div>
                <div class="btn-group config">
                    <a class="btn btn-trasparent btn-small" ng-controller="QueryConfigController"
                       data-placement="bottom"
                       data-title="Query configuration"
                       data-template="views/database/browseConfig.html"
                       bs-popover
                       data-toggle="dropdown"
                       href="javascript:void(0)">
                        <i class="icon-wrench"></i>
                        <b class="caret"></b>
                    </a>
                </div>
            </div>
        </div>
        <div class="query-body">
            <div class="query-bookmark bookmarks">
                <a class="" href="javascript:void(0)" data-placement="bottom"
                   data-title="Add bookmark"
                   data-template="views/database/bookmark.html"
                   bs-popover>
                    <i class="fa fa-star"></i>
                </a>
            </div>

            <form ng-submit="query()" class="form-inline">
                <div ui-codemirror="editorOptions" ng-model="queryText"></div>
            </form>
        </div>
        <div class="query-info">
            <form class="form-inline pull-right" ng-show="!hideSettings">
                <fieldset>

                    <label>Content Type
                        <select ng-model="selectedContentType" class="input-small"
                                ng-options="q for q in contentType"></select>
                    </label>
                    <label>Limit
                        <input type="text" class="input-xxsmall" ng-model="limit"/>
                    </label>
                    <label> Keep result set in history
                        <input type="text" class="input-xxsmall" ng-model="keepLimit"/>
                    </label>
                    <label class="checkbox">
                        <input type="checkbox" class="input-xxsmall" ng-model="shallow"/> Shallow collection
                    </label>
                    <label class="checkbox">
                        <input type="checkbox" class="input-xxsmall" ng-model="hideSettings"/> Hide settings
                    </label>
                    <button ng-click="query()" ng-disabled="!queryText" class="btn btn-small btn-primary"><i
                            class="icon-white icon-cog"></i>
                        Run
                    </button>

                </fieldset>
            </form>
        </div>
    </div>
    <div id="download">

    </div>


    <div class="row" ng-show="timeline.length >1">
        <div class="col-md-6">
            <form class="form-search search-history">
                <div class="input-group">
                    <input type="text" class="input-xxlarge form-control search-query" ng-model="search.query"
                           placeholder="Search history">
                    <span class="input-group-btn">
                    <button type="submit" class="btn" ng-click="clear()">
                        <i class="fa fa-trash-o"></i>
                    </button>
                        </span>
                </div>
            </form>
        </div>
        <div class="col-md-6">
        </div>
    </div>

    <div class="container-fluid" id="fixed" when-scrolled="loadMore()">
        <div class="row history-item" ng-repeat="item in timeline | filter:search">
            <div ng-include="'views/database/query.html'"></div>
        </div>
    </div>


</div>