<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Todo</title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">


    <script language="javascript" type="text/javascript">


        function initIFrame(iframe) {


        }
    </script>
    <!-- build:css styles/builder.css -->
    <link href="../../components/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
    <link href="../../components/ionic/release/css/ionic.css" rel="stylesheet">
    <link href="../../components/font-awesome/css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" href="../../components/codemirror/lib/codemirror.css">
    <link rel="stylesheet" href="../../components/codemirror/addon/hint/show-hint.css">
    <link href="../../styles/ionic-builder.css" rel="stylesheet">

    <!-- endbuild -->
    <!-- build:js scripts/builder.js -->

    <script src="../../components/jquery/dist/jquery.js"></script>
    <script src="../../components/jquery-ui/jquery-ui.js"></script>

    <script src="../../components/ionic/release/js/ionic.bundle.js"></script>
    <script src="../../components/angular-local-storage/angular-local-storage.js"></script>
    <script src="../../components/angular-strap/dist/angular-strap.js"></script>
    <script src="../../components/angular-route/angular-route.min.js"></script>
    <script src="../../components/ngDraggable/ngDraggable.js"></script>
    <script src="../../components/chance/chance.js"></script>
    <script src="../../components/stringjs/lib/string.js"></script>
    <script type="text/javascript" src="../../components/codemirror/lib/codemirror.js"></script>

    <script type="text/javascript" src="../../scripts/widgets/patch/ui-codemirror.js"></script>
    <script type="text/javascript" src="../../components/codemirror/mode/xml/xml.js"></script>
    <script type="text/javascript" src="../../components/codemirror/mode/css/css.js"></script>
    <script type="text/javascript" src="../../components/codemirror/mode/htmlmixed/htmlmixed.js"></script>

    <script src="../../scripts/ionic/builder.js"></script>

    <script src="../../scripts/ionic/widget.js"></script>
    <!-- endbuild -->
</head>
<body ng-app="builder">


<div class="container-fluid container-builder">
    <div class="row">
        <div class="col-md-3 components">
            <div ng-controller="AppPageController" ng-show="!preview">

                <div class="panel panel-default">
                    <div class="panel-heading">
                        Pages
                        <div class="pull-right">
                            <i class="fa fa-plus-circle" ng-click="newPage()"></i>
                        </div>
                    </div>

                    <div class="panel-body scroll-pane">
                        <ul class="nav nav-pills nav-stacked">
                            <li ng-class="{ 'active' : key == selected}" ng-click="selectPage(key)"
                                ng-repeat="(key, value) in app.pages">
                                <a href="javascript:void(0)">{{app.pages[key].title}}</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="panel panel-default " ng-controller="AppComponentsController" ng-show="!preview">
                <div class="panel-heading">
                    Components
                </div>
                <div class="panel-body container-fluid scroll-pane">

                    <ul class="nav nav-pills nav-stacked">
                        <li ng-repeat="(key, value) in components">
                            <a href="" draggable drag-data="components[key]">{{components[key].type}}</a>
                        </li>
                    </ul>

                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="preview-container" ng-controller="AppBuilderController">
                <div class="row">
                    <div class="col-md-12 ">
                        <div class="row">
                            <div class="col-md-2">
                                <div class="btn-group">
                                    <button class="btn btn-primary" ng-click="save()">
                                        <i class="fa fa-save"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div class="btn-group btn-group-justified">
                                    <ion-toggle ng-model="preview" toggle-class="toggle-calm">Preview</ion-toggle>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="btn-group">
                                    <button class="btn btn-primary" ng-click="clear()">
                                        <i class="fa fa-trash-o"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="preview">
                    <div ng-show="!preview">
                        <div id="appContainer" class="preview-body" app-builder droppable
                             drop-success="onDropComplete($data,$event,$element)">
                        </div>
                        <!--<div class="actions-container" ng-style="{ 'left' : left, 'top' : top }"-->
                        <!--ng-class="{ 'hide' : !selected}">-->
                        <!--<div class="actions">-->
                        <!--<i class="fa fa-arrows"></i>-->
                        <!--<i class="fa fa-times-circle-o" ng-click="remove()"></i>-->
                        <!--</div>-->
                        <!--</div>-->
                    </div>
                    <div ng-if="preview">

                        <iframe id="appBuilderFrame" ng-show="preview" class="app-preview" onload="initIFrame(this)"
                                height="400px"
                                width="275px"
                                ng-src="{{appPreview}}">

                        </iframe>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-5 components" ng-controller="AppComponentDetailsController" ng-show="!preview">
            <div class="panel panel-default ">
                <div class="panel-heading">
                    <div class="panel-title">
                        {{config.type}}
                        <div class="pull-right">
                            <i class="fa fa-trash-o" ng-show="config" ng-click="remove()"></i>
                        </div>
                    </div>
                </div>
                <div class="panel-body" component-builder>

                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>